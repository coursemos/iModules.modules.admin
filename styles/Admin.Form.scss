/**
 * 이 파일은 아이모듈 관리자모듈의 일부입니다. (https://www.imodules.io)
 *
 * 폼 관련 스타일시트를 정의한다.
 * 
 * @file /styles/Admin.Form.scss
 * @author Arzz <arzz@arzz.com>
 * @license MIT License
 * @modified 2023. 3. 6.
 */
div[data-component][data-type='panel'][data-role='form'] {
    > div[data-role='container'] {
        > div[data-role='content'] {
            display: flex;
            flex-direction: column;
            row-gap: var(--padding-default);
            align-items: stretch;
            height: max-content;
        }
    }
}

div[data-component][data-type='form'][data-role='field'] {
    > div[data-role='container'] {
        font-size: 0;
        width: 100%;

        > div[data-role='top'] {
            display: inline-block;
            vertical-align: top;

            > label {
                display: block;
                height: var(--text-height);
                line-height: var(--text-height);
                font-size: var(--font-size-default);
                font-family: var(--font-family-default);
                color: var(--input-color-default);

                &.right {
                    text-align: right;
                    padding-right: var(--padding-default);
                }
            }
        }

        &.required {
            > div[data-role='top'] {
                > label {
                    &::before {
                        content: '* ';
                        color: var(--input-color-required);
                        vertical-align: super;
                        line-height: 0;
                    }
                }
            }
        }

        > div[data-role='content'] {
            display: inline-block;
            vertical-align: top;
        }

        > div[data-role='bottom'] {
            display: block;
            width: 100%;
            box-sizing: border-box;
            padding-top: var(--padding-default);
            padding-bottom: var(--padding-default);
            font-family: var(--font-family-default);
            font-size: var(--font-size-small);
            color: var(--input-color-help);

            &.error {
                color: var(--input-color-error);
            }

            &:empty {
                display: none;
            }
        }

        &.left {
            > div[data-role='top'] {
                padding-left: 0;
            }
        }

        &.top {
            > div[data-role='top'] {
                display: block;
                width: 100%;
                padding-left: 0;

                > label {
                    &.right {
                        text-align: left;
                    }
                }
            }
        }
    }

    > div[data-role='container'] > div[data-role='content'][data-field='container'] {
        > div[data-role='fields'] {
            width: 100%;
            display: flex;
            align-items: flex-start;

            > div[data-component] {
                flex-shrink: 0;
                margin-top: 0;
                margin-left: 0;

                &.flex {
                    width: min-content;
                }
            }
        }
    }

    > div[data-role='container'] > div[data-role='content'][data-field='text'] {
        position: relative;
        background: var(--input-background-default);
        z-index: 0;

        &:has(input:focus) {
            background: var(--input-background-focus);
        }

        &.error {
            background: var(--input-background-error);
        }

        > input {
            outline: none;
            width: 100%;
            height: var(--text-height);
            box-sizing: border-box;
            background: transparent;
            border: 1px solid var(--input-border-color-default);
            padding: var(--padding-default);
            line-height: calc(var(--text-height) - var(--padding-default) * 2 - 2px);
            font-size: var(--font-size-default);
            font-family: var(--font-family-default);
            color: var(--input-color-default);

            &:focus {
                border-color: var(--input-border-color-focus);
            }
        }

        > div[data-role='empty'] {
            position: absolute;
            top: 0;
            left: 0;
            z-index: -1;
            width: 100%;
            height: var(--text-height);
            border: 1px solid transparent;
            box-sizing: border-box;
            padding: var(--padding-default);
            line-height: calc(var(--text-height) - var(--padding-default) * 2 - 2px);
            font-size: var(--font-size-default);
            font-family: var(--font-family-default);
            color: var(--input-color-help);
            overflow: hidden;
        }

        &.error {
            > input {
                border-color: var(--input-border-color-error);
            }
        }
    }

    > div[data-role='container'] > div[data-role='content'][data-field='select'] {
        position: relative;
        background: var(--input-background-default);
        z-index: 0;

        &:has(*:focus) {
            background: var(--input-background-focus);
        }

        &.error {
            background: var(--input-background-error);
        }

        > button {
            font-family: var(--font-family-default);
            font-size: var(--font-size-default);
            display: block;
            width: 100%;
            height: var(--text-height);
            border: 1px solid var(--input-border-color-default);
            color: var(--input-color-default);
            background: transparent;
            cursor: pointer;
            padding-right: 30px;
            position: relative;

            > div[data-role='display'] {
                color: var(--default-font-color);
                box-sizing: border-box;
                text-align: left;
                padding: var(--padding-default);
                height: var(--text-height);
                line-height: calc(var(--text-height) - var(--padding-default) * 2 - 2px);
            }

            &::before {
                font-family: moimz;
                display: block;
                width: var(--text-height);
                height: var(--text-height);
                line-height: calc(var(--text-height) - var(--padding-default) * 2 - 2px);
                padding-top: var(--padding-default);
                padding-bottom: var(--padding-default);
                border: 1px solid transparent;
                text-align: center;
                font-size: var(--font-size-large);
                content: '\e906';
                background: transparent;
                position: absolute;
                box-sizing: border-box;
                top: -1px;
                right: -1px;
                color: var(--input-color-empty);
            }

            &:focus {
                border-color: var(--input-border-color-focus);

                &::before {
                    color: var(--input-border-color-focus);
                }
            }
        }

        &:has(input[type='search']:focus) {
            > button {
                border-color: var(--input-border-color-focus);
            }
        }

        > input[type='search'] {
            position: absolute;
            z-index: 1;
            top: 0;
            left: 0;
            width: calc(100% - var(--text-height));
            height: var(--text-height);
            box-sizing: border-box;
            border: 1px solid transparent;
            padding: var(--padding-default);
            line-height: calc(var(--text-height) - var(--padding-default) * 2 - 2px);
            font-size: var(--font-size-default);
            font-family: var(--font-family-default);
            background: transparent;
        }

        > div[data-role='empty'] {
            position: absolute;
            top: 0;
            left: 0;
            z-index: -1;
            width: 100%;
            height: var(--text-height);
            border: 1px solid transparent;
            box-sizing: border-box;
            padding: var(--padding-default);
            line-height: calc(var(--text-height) - var(--padding-default) * 2 - 2px);
            font-size: var(--font-size-default);
            font-family: var(--font-family-default);
            color: var(--input-color-help);
            overflow: hidden;
        }

        &.expand {
            z-index: 1;

            > button {
                border-color: var(--input-border-color-focus);

                &::before {
                    content: '\e905';
                    color: var(--input-border-color-focus);
                }
            }
        }
    }

    > div[data-role='container'] > div[data-role='content'][data-field='textarea'] {
        > textarea {
            width: 100%;
            min-height: calc(var(--medium-font-size) * 2 + 4px);
            box-sizing: border-box;
            border: 1px solid var(--input-border-color);
            background: var(--input-background);
            padding-top: calc(var(--medium-font-size) * 0.5);
            padding-bottom: calc(var(--medium-font-size) * 0.5);
            padding-left: calc(var(--medium-font-size) * 0.5);
            padding-right: calc(var(--medium-font-size) * 0.5);
            line-height: calc(var(--medium-font-size) + 2px);
            font-size: var(--medium-font-size);
            font-family: inherit;
            resize: none;
        }

        > textarea:focus {
            border-color: var(--theme-color);
        }
    }
}
